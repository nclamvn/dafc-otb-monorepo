# ═══════════════════════════════════════════════════════════════════════════════
#                    DAFC API - Environment Configuration
#                           NestJS Backend Service
# ═══════════════════════════════════════════════════════════════════════════════
#
# Copy this file to .env and fill in the values:
#   cp .env.example .env
#
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (PostgreSQL)
# ─────────────────────────────────────────────────────────────────────────────
# Connection string format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
#
# Local: postgresql://postgres:postgres@localhost:5432/dafc_otb
# Docker: postgresql://postgres:postgres@db:5432/dafc_otb
# Cloud: Get from your database provider
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/dafc_otb"

# ─────────────────────────────────────────────────────────────────────────────
# SERVER CONFIGURATION
# ─────────────────────────────────────────────────────────────────────────────
# Port for NestJS server (default: 3001)
API_PORT=3001

# Environment: development | staging | production
NODE_ENV="development"

# ─────────────────────────────────────────────────────────────────────────────
# JWT AUTHENTICATION
# ─────────────────────────────────────────────────────────────────────────────
# Secret key for signing JWT tokens
# IMPORTANT: Use a strong, unique secret (minimum 32 characters)
# Generate: openssl rand -base64 32
JWT_SECRET="your-jwt-secret-here-minimum-32-characters-long"

# Token expiration time
# Examples: 15m, 1h, 7d, 30d
JWT_EXPIRES_IN="7d"

# ─────────────────────────────────────────────────────────────────────────────
# CORS (Cross-Origin Resource Sharing)
# ─────────────────────────────────────────────────────────────────────────────
# Allowed origins for API requests
# Multiple origins: http://localhost:3000,http://localhost:3001
# Production: https://your-domain.com
CORS_ORIGIN="http://localhost:3000"

# ─────────────────────────────────────────────────────────────────────────────
# REDIS (Optional - for caching and rate limiting)
# ─────────────────────────────────────────────────────────────────────────────
# Connection URL for Redis
# Local: redis://localhost:6379
# With password: redis://:password@localhost:6379
# Cloud: Get from your Redis provider
REDIS_URL="redis://localhost:6379"

# ─────────────────────────────────────────────────────────────────────────────
# RATE LIMITING
# ─────────────────────────────────────────────────────────────────────────────
# Number of requests allowed per duration window
RATE_LIMIT_DEFAULT_POINTS=100

# Duration window in seconds
RATE_LIMIT_DEFAULT_DURATION=60

# Auth endpoints specific limits (stricter)
RATE_LIMIT_AUTH_POINTS=5
RATE_LIMIT_AUTH_BLOCK_DURATION=300

# ─────────────────────────────────────────────────────────────────────────────
# LOGGING
# ─────────────────────────────────────────────────────────────────────────────
# Log level: error | warn | info | debug | verbose
LOG_LEVEL="info"

# Log format: json | pretty
LOG_FORMAT="pretty"

# ─────────────────────────────────────────────────────────────────────────────
# MONITORING (Optional)
# ─────────────────────────────────────────────────────────────────────────────
# Sentry DSN for error tracking
# Get from: https://sentry.io
SENTRY_DSN=""

# ═══════════════════════════════════════════════════════════════════════════════
# NOTES:
# - All secrets should be different between environments
# - Never commit actual secrets to version control
# - Use environment-specific .env files (.env.development, .env.production)
# ═══════════════════════════════════════════════════════════════════════════════
